use vageesh;

show databases;

create database vageesh;

use vageesh;

drop database vageesh;

create database quiz;

use quiz;

create table questions(
	question_id int auto_increment primary key,
    question_text varchar(500),
    option_a varchar(255),
    option_b varchar(255),
    option_c varchar(255),
    option_d varchar(255),
    correct_option char(1) 
    
);

select * from questions;

INSERT INTO questions (question_text, option_a, option_b, option_c, option_d, correct_option) VALUES
('Who won the ICC Cricket World Cup 2011?', 'India', 'Sri Lanka', 'Australia', 'South Africa', 'A'),
('Who was the Man of the Tournament in the 2019 Cricket World Cup?', 'Ben Stokes', 'Kane Williamson', 'Rohit Sharma', 'David Warner', 'B'),
('Which bowler took a hat-trick in the 2019 World Cup?', 'Mitchell Starc', 'Mohammad Shami', 'Jasprit Bumrah', 'Trent Boult', 'B'),
('Who scored the fastest T20I century for India in 2017?', 'KL Rahul', 'Rohit Sharma', 'Suryakumar Yadav', 'Virat Kohli', 'B'),
('Which team won the ICC Champions Trophy 2013?', 'India', 'England', 'Pakistan', 'Sri Lanka', 'A'),
('Who was the captain of India during the 2021 World Test Championship Final?', 'Virat Kohli', 'Rohit Sharma', 'MS Dhoni', 'Ajinkya Rahane', 'A'),
('Who became the first Indian to score 200 in ODI after 2010?', 'Sachin Tendulkar', 'Rohit Sharma', 'Virender Sehwag', 'Shubman Gill', 'A'),
('Which country won the 2021 T20 World Cup?', 'Australia', 'New Zealand', 'England', 'Pakistan', 'A'),
('Which Indian bowler took 10 wickets in a Test innings in 2021?', 'Ravichandran Ashwin', 'Harbhajan Singh', 'Jasprit Bumrah', 'Ajaz Patel', 'D'),
('Who won the Orange Cap in IPL 2020?', 'KL Rahul', 'Shikhar Dhawan', 'David Warner', 'AB de Villiers', 'A'),
('Which team won the Asia Cup 2018?', 'India', 'Pakistan', 'Sri Lanka', 'Bangladesh', 'A'),
('Who hit 5 sixes in one over for India in 2022 against Sri Lanka?', 'Shreyas Iyer', 'Hardik Pandya', 'Ravindra Jadeja', 'Deepak Hooda', 'B'),
('Who won the ICC Under-19 Cricket World Cup 2018?', 'India', 'Australia', 'Pakistan', 'South Africa', 'A');


INSERT INTO questions (question_text, option_a, option_b, option_c, option_d, correct_option) VALUES
('Who won the FIFA World Cup 2014?', 'Germany', 'Argentina', 'Brazil', 'Spain', 'A'),
('Which player won the Ballon d''Or in 2021?', 'Lionel Messi', 'Cristiano Ronaldo', 'Robert Lewandowski', 'Kylian Mbappé', 'A'),
('Which club won the UEFA Champions League 2020?', 'Bayern Munich', 'PSG', 'Real Madrid', 'Liverpool', 'A'),
('Who scored the fastest goal in Euro 2020?', 'Cristiano Ronaldo', 'Patrik Schick', 'Kevin De Bruyne', 'Luke Shaw', 'D'),
('Who won the UEFA Euro 2016 tournament?', 'France', 'Portugal', 'Germany', 'Italy', 'B'),
('Which country won the Copa América 2021?', 'Argentina', 'Brazil', 'Chile', 'Colombia', 'A'),
('Who was the top scorer of FIFA World Cup 2022?', 'Kylian Mbappé', 'Lionel Messi', 'Harry Kane', 'Benzema', 'A');


create table admin(
 adminId int auto_increment primary key,
 username varchar(100) not null unique,
 password varchar(100) not null 
 
);

insert into admin(username,password) values ('admin','admin123');

use quiz;
show tables;

CREATE TABLE quizzes (
    quiz_id INT AUTO_INCREMENT PRIMARY KEY,
    quiz_name VARCHAR(255) NOT NULL,
    created_by INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (created_by) REFERENCES admin(adminId)
);

CREATE TABLE quiz_questions (
    quiz_id INT,
    question_id INT,
    PRIMARY KEY (quiz_id, question_id),
    FOREIGN KEY (quiz_id) REFERENCES quizzes(quiz_id),
    FOREIGN KEY (question_id) REFERENCES questions(question_id)
);

use quiz;

select * from quizzes;

create table users(
	user_id int auto_increment primary key,
    username varchar(100) unique not null,
    password varchar(100) not null
    );

select * from users;
select * from quizzes;

select * from quiz_questions;

create table leaderboard(
	id int auto_increment primary key,
    user_id int,
    quiz_id int,
    score int,
    attempt_time timestamp default current_timestamp
);

drop table quiz_questions;

drop table quizzes;

CREATE TABLE quizzes (
    quiz_id INT AUTO_INCREMENT PRIMARY KEY,
    quiz_name VARCHAR(255) NOT NULL,
    category VARCHAR(50) NOT NULL,
    created_by INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (created_by) REFERENCES admin(adminId)
);

drop table questions;

show tables;



drop table leaderboard;

CREATE TABLE user_attempts (
    attempt_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    quiz_id INT NOT NULL,
    score INT NOT NULL,
    attempt_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE,
    FOREIGN KEY (quiz_id) REFERENCES quizzes(quiz_id) ON DELETE CASCADE
);

CREATE TABLE questions (
    question_id INT AUTO_INCREMENT PRIMARY KEY,
    quiz_id INT NOT NULL,
    question_text VARCHAR(500) NOT NULL,
    option_a VARCHAR(255) NOT NULL,
    option_b VARCHAR(255) NOT NULL,
    option_c VARCHAR(255) NOT NULL,
    option_d VARCHAR(255) NOT NULL,
    correct_option CHAR(1) NOT NULL, -- 'A', 'B', 'C', 'D'
    FOREIGN KEY (quiz_id) REFERENCES quizzes(quiz_id) ON DELETE CASCADE
);

-- Example (ONLY if not already inserted)
INSERT INTO quizzes (quiz_id, quiz_name, category, created_by) VALUES
(1, 'Cricket Quiz', 'CRICKET', 1),
(2, 'GK Quiz', 'GK', 1),
(3, 'CS Quiz', 'CS', 1);

INSERT INTO questions 
(quiz_id, question_text, option_a, option_b, option_c, option_d, correct_option)
VALUES
(1, 'Who is known as the God of Cricket?', 'Virat Kohli', 'Sachin Tendulkar', 'MS Dhoni', 'Brian Lara', 'B'),
(1, 'How many players are there in a cricket team?', '9', '10', '11', '12', 'C'),
(1, 'Which country won the first Cricket World Cup?', 'India', 'Australia', 'West Indies', 'England', 'C'),
(1, 'What is the length of a cricket pitch?', '20 yards', '21 yards', '22 yards', '23 yards', 'C'),
(1, 'Who has scored the most centuries in international cricket?', 'Ricky Ponting', 'Sachin Tendulkar', 'Virat Kohli', 'Jacques Kallis', 'B'),
(1, 'Which bowler has taken the most Test wickets?', 'Shane Warne', 'Anil Kumble', 'Muttiah Muralitharan', 'James Anderson', 'C'),
(1, 'What does LBW stand for?', 'Leg Before Wicket', 'Left Bat Win', 'Long Ball Wide', 'Last Ball Win', 'A'),
(1, 'Which format has 20 overs per side?', 'Test', 'ODI', 'T20', 'The Hundred', 'C'),
(1, 'Who was the first Indian captain to win a World Cup?', 'MS Dhoni', 'Kapil Dev', 'Sourav Ganguly', 'Mohammad Azharuddin', 'B'),
(1, 'Which stadium is known as the Home of Cricket?', 'MCG', 'Lords', 'Eden Gardens', 'Wankhede', 'B');


INSERT INTO questions 
(quiz_id, question_text, option_a, option_b, option_c, option_d, correct_option)
VALUES
(2, 'What is the capital of India?', 'Mumbai', 'Delhi', 'New Delhi', 'Chennai', 'C'),
(2, 'Which planet is known as the Red Planet?', 'Earth', 'Mars', 'Venus', 'Jupiter', 'B'),
(2, 'Who is known as the Father of the Nation (India)?', 'Subhash Chandra Bose', 'Jawaharlal Nehru', 'Mahatma Gandhi', 'Sardar Patel', 'C'),
(2, 'Which is the largest ocean in the world?', 'Atlantic', 'Indian', 'Arctic', 'Pacific', 'D'),
(2, 'How many continents are there?', '5', '6', '7', '8', 'C'),
(2, 'What is the national animal of India?', 'Lion', 'Elephant', 'Tiger', 'Leopard', 'C'),
(2, 'Who invented the telephone?', 'Thomas Edison', 'Alexander Graham Bell', 'Nikola Tesla', 'Newton', 'B'),
(2, 'Which country gifted the Statue of Liberty to the USA?', 'UK', 'France', 'Germany', 'Italy', 'B'),
(2, 'Which is the smallest prime number?', '0', '1', '2', '3', 'C'),
(2, 'Which gas is most abundant in the Earth’s atmosphere?', 'Oxygen', 'Hydrogen', 'Nitrogen', 'Carbon Dioxide', 'C');


INSERT INTO questions 
(quiz_id, question_text, option_a, option_b, option_c, option_d, correct_option)
VALUES
(3, 'What does CPU stand for?', 'Central Process Unit', 'Central Processing Unit', 'Computer Personal Unit', 'Control Processing Unit', 'B'),
(3, 'Which language is platform independent?', 'C', 'C++', 'Java', 'Assembly', 'C'),
(3, 'What is the brain of the computer?', 'RAM', 'Hard Disk', 'CPU', 'Motherboard', 'C'),
(3, 'Which data structure uses FIFO?', 'Stack', 'Queue', 'Tree', 'Graph', 'B'),
(3, 'Which is not an operating system?', 'Windows', 'Linux', 'Oracle', 'MacOS', 'C'),
(3, 'What does HTML stand for?', 'High Text Machine Language', 'Hyper Text Markup Language', 'Hyper Tool Multi Language', 'Hyperlinks Text Mark Language', 'B'),
(3, 'Which company developed Java?', 'Microsoft', 'Google', 'Sun Microsystems', 'IBM', 'C'),
(3, 'Which keyword is used to inherit a class in Java?', 'this', 'super', 'extends', 'implements', 'C'),
(3, 'What is SQL used for?', 'Styling webpages', 'Database queries', 'Game development', 'Networking', 'B'),
(3, 'Which is not a programming language?', 'Python', 'Java', 'HTTP', 'C++', 'C');




